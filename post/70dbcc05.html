<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>应用层续 | Rayce. Blogs</title><meta name="author" content="Rayce."><meta name="copyright" content="Rayce."><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="DNS（域名解析系统）前面说的都是应用层的协议 和相关案例 应用层协议 和 例子都是所有案例中最多的。 域名解析系统是给其他应用应用的应用通过其他应用来为应用提供服务。   dns提供的是： 域名到 ip地址的转换  DNS的重要性（必要性） IP地址标识主机、路由器  但IP地址不好记忆，不便人类使用(没有意义) 人类一般倾向于使用一些有意义的字符串来标识 Internet上的设备(大实话)">
<meta property="og:type" content="article">
<meta property="og:title" content="应用层续">
<meta property="og:url" content="https://ray2310.github.io/post/70dbcc05.html">
<meta property="og:site_name" content="Rayce. Blogs">
<meta property="og:description" content="DNS（域名解析系统）前面说的都是应用层的协议 和相关案例 应用层协议 和 例子都是所有案例中最多的。 域名解析系统是给其他应用应用的应用通过其他应用来为应用提供服务。   dns提供的是： 域名到 ip地址的转换  DNS的重要性（必要性） IP地址标识主机、路由器  但IP地址不好记忆，不便人类使用(没有意义) 人类一般倾向于使用一些有意义的字符串来标识 Internet上的设备(大实话)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&tbnid=O22DjUrs0X8icM&vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&docid=Xc2fZTMSl7dnDM&w=1202&h=676&q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ">
<meta property="article:published_time" content="2023-07-20T12:49:24.000Z">
<meta property="article:modified_time" content="2023-07-24T12:45:27.355Z">
<meta property="article:author" content="Rayce.">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&tbnid=O22DjUrs0X8icM&vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&docid=Xc2fZTMSl7dnDM&w=1202&h=676&q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ"><link rel="shortcut icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQHlJW3iX0eSx0YEsPnrToEC7iKW4m3TEgiQ&usqp=CAU"><link rel="canonical" href="https://ray2310.github.io/post/70dbcc05.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Rayce.","link":"链接: ","source":"来源: Rayce. Blogs","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '应用层续',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-24 20:45:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/109897266?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">126</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&amp;imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&amp;tbnid=O22DjUrs0X8icM&amp;vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&amp;docid=Xc2fZTMSl7dnDM&amp;w=1202&amp;h=676&amp;q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&amp;ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ')"><nav id="nav"><span id="blog-info"><a href="/" title="Rayce. Blogs"><span class="site-name">Rayce. Blogs</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">应用层续</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-20T12:49:24.000Z" title="发表于 2023-07-20 20:49:24">2023-07-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-24T12:45:27.355Z" title="更新于 2023-07-24 20:45:27">2023-07-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>19分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="应用层续"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="DNS（域名解析系统）"><a href="#DNS（域名解析系统）" class="headerlink" title="DNS（域名解析系统）"></a>DNS（域名解析系统）</h1><p>前面说的都是应用层的协议 和相关案例</p>
<p>应用层协议 和 例子都是所有案例中最多的。 域名解析系统是<code>给其他应用应用的应用</code>通过其他应用来为应用提供服务。 </p>
<blockquote>
<p>dns提供的是： <strong>域名到 ip地址的转换</strong></p>
</blockquote>
<h2 id="DNS的重要性（必要性）"><a href="#DNS的重要性（必要性）" class="headerlink" title="DNS的重要性（必要性）"></a>DNS的重要性（必要性）</h2><ul>
<li><strong>IP地址标识主机、路由器</strong> </li>
<li>但IP地址不好记忆，不便人类使用(没有意义)</li>
<li><strong>人类一般倾向于使用一些有意义的字符串来标识 Internet上的设备(大实话)</strong></li>
</ul>
<blockquote>
<p>例如：<a href="mailto:&#113;&#x7a;&#x68;&#101;&#110;&#x67;&#x40;&#x75;&#115;&#116;&#99;&#46;&#101;&#x64;&#x75;&#x2e;&#99;&#110;">&#113;&#x7a;&#x68;&#101;&#110;&#x67;&#x40;&#x75;&#115;&#116;&#99;&#46;&#101;&#x64;&#x75;&#x2e;&#99;&#110;</a> 所在的邮件服务器 <a target="_blank" rel="noopener" href="http://www.ustc.edu.cn/">www.ustc.edu.cn</a> 所在的web服务器</p>
</blockquote>
<ul>
<li>存在着“字符串”—– IP地址的转换的必要性</li>
<li>人类用户提供要访问机器的“字符串”名称</li>
<li>由DNS负责转换成为二进制的网络地址</li>
</ul>
<h2 id="DNS系统需要解决的问题"><a href="#DNS系统需要解决的问题" class="headerlink" title="DNS系统需要解决的问题"></a>DNS系统需要解决的问题</h2><p><strong>主要解决的问题就是域名到ip地址的转换</strong></p>
<ol>
<li>问题1：  如何命名设备</li>
</ol>
<blockquote>
<p> 需要通过一些有意义的字符串来标识设备。便于记忆</p>
<p>解决一个平面命名的重名问题<strong>：层次化命名</strong>  </p>
</blockquote>
<ol>
<li>问题2：如何完成(域名)名字到IP地址的转换</li>
</ol>
<blockquote>
<p>分布式的数据库维护和响应名字查询  </p>
</blockquote>
<ol>
<li>问题3：如何维护：增加或者删除一个域，需 要在域名系统中做哪些工作</li>
</ol>
<h2 id="DNS-Domain-Name-System-的发展历史"><a href="#DNS-Domain-Name-System-的发展历史" class="headerlink" title="DNS (Domain Name System)  的发展历史"></a>DNS (Domain Name System)  的发展历史</h2><h3 id="ARPANET-的名字解析-解决方案："><a href="#ARPANET-的名字解析-解决方案：" class="headerlink" title="ARPANET 的名字解析 解决方案："></a>ARPANET 的名字解析 解决方案：</h3><ol>
<li>主机名：没有层次的一个字符串（一个平面）</li>
<li>存在着<strong>一个（集中）维护站</strong>：<strong>维护着一张 主机名-IP地址 的映射文件：****Hosts.txt</strong> </li>
<li>每台主机定时从维护站取文件</li>
</ol>
<h3 id="上述ARPANET-的名字解析-解决方法所遇到的问题："><a href="#上述ARPANET-的名字解析-解决方法所遇到的问题：" class="headerlink" title="上述ARPANET 的名字解析 解决方法所遇到的问题："></a>上述ARPANET 的名字解析 解决方法所遇到的问题：</h3><p> <strong>当网络中主机数量很大时</strong></p>
<blockquote>
<p> 没有层次的主机名称很难分配</p>
<p>文件的管理、发布、查找都很麻烦  </p>
</blockquote>
<h2 id="DNS的总体设计思路和目标"><a href="#DNS的总体设计思路和目标" class="headerlink" title="DNS的总体设计思路和目标"></a>DNS的总体设计思路和目标</h2><h3 id="设计思路："><a href="#设计思路：" class="headerlink" title="设计思路："></a>设计思路：</h3><ul>
<li><strong>分层的、基于域的命名机制 （分层命名）</strong></li>
<li><strong>若干分布式的数据库完成名字到IP地址的转换</strong></li>
</ul>
<p><strong>通过上面的方式来解决名字到ip地址的转换关系。</strong> </p>
<ul>
<li><p>运行在UDP之上端口号为53的 <strong>应用</strong>服务 </p>
</li>
<li><p><strong>核心的Internet功能</strong>，但以应用层协议实现 </p>
</li>
<li><ul>
<li>在网络边缘处理复杂性</li>
</ul>
</li>
</ul>
<p><strong>互联网的很多核心功能都是在网络的边缘，通过端系统之上的应用进程来实现的。（复杂性体现在边上，  传输层及以上)</strong></p>
<h3 id="DNS的主要目的："><a href="#DNS的主要目的：" class="headerlink" title="DNS的主要目的："></a>DNS的主要目的：</h3><ol>
<li><strong>实现主机名-IP地址的转换(name&#x2F;IP translate)</strong> </li>
<li><strong>其它目的</strong></li>
</ol>
<ul>
<li>主机别名到规范名字的转换：Host aliasing</li>
<li><strong>邮件服务器别名到邮件服务器的正规名字的转换</strong>：Mail server aliasing</li>
<li>负载均衡：Load Distribution</li>
</ul>
<h2 id="解决的三个问题-："><a href="#解决的三个问题-：" class="headerlink" title="解决的三个问题 ："></a>解决的三个问题 ：</h2><h2 id="问题一-：-DNS名字空间-The-DNS-Name-Space"><a href="#问题一-：-DNS名字空间-The-DNS-Name-Space" class="headerlink" title="问题一 ： DNS名字空间(The DNS Name Space)"></a>问题一 ： DNS名字空间(The DNS Name Space)</h2><h3 id="DNS域名结构-："><a href="#DNS域名结构-：" class="headerlink" title="DNS域名结构  ："></a>DNS域名结构  ：</h3><ol>
<li>一个层面命名设备会有很多重名  </li>
<li>NDS采用层次树状结构的 命名方法  </li>
<li>Internet 根被划为几百个顶级域(top lever domains)</li>
</ol>
<blockquote>
<p>通用的</p>
<p>.com; .edu ; .gov ; .int ; .mil ; .net ; .org .firm ; .hsop ; .web ; .arts ; .rec ;  </p>
</blockquote>
<blockquote>
<p>国家级别的:</p>
<p>.cn ; .us ; .nl ; .jp  </p>
</blockquote>
<ol>
<li>每个(子)域下面可划分为若干子域(subdomains)</li>
<li>树叶是主机</li>
</ol>
<h3 id="DNS-根名字服务器"><a href="#DNS-根名字服务器" class="headerlink" title="DNS: 根名字服务器"></a>DNS: 根名字服务器</h3><p><img src="/images/1689853465079-9df524b0-8654-4fb0-af71-ecc7a794d7c4.png" alt="img"></p>
<p>全球只有这13个。中国这边没有。</p>
<p><strong>10个在美国、1个在英国、1个在瑞典、1个在荷兰</strong></p>
<blockquote>
<p> <strong>这是存在一些安全隐患的，我国只有相关的镜像</strong></p>
</blockquote>
<blockquote>
<p> <strong>创建一个新的域，必须征得它所属域的同意  。</strong></p>
</blockquote>
<h3 id="DNS名字空间-The-DNS-Name-Space"><a href="#DNS名字空间-The-DNS-Name-Space" class="headerlink" title="DNS名字空间(The DNS Name Space)"></a>DNS名字空间(The DNS Name Space)</h3><p><img src="/images/1689853497235-b247a473-afd0-4e59-a8f4-408b3ad01a4b.png" alt="img"></p>
<h4 id="域名（Domain-Name）"><a href="#域名（Domain-Name）" class="headerlink" title="域名（Domain Name）"></a>域名（Domain Name）</h4><ol>
<li><strong>从本域往上，直到树根</strong>  <strong>所有的都属于这个域名</strong></li>
<li>中间使用“.”间隔不同的级别</li>
</ol>
<blockquote>
<p> 例如：  ustc.edu.cn  、 auto.ustc.edu.cn …</p>
</blockquote>
<ol>
<li>域的域名：可以用于表示一个域  </li>
<li>主机的域名：一个域上的一个主机</li>
</ol>
<h4 id="域名的管理"><a href="#域名的管理" class="headerlink" title="域名的管理"></a>域名的管理</h4><p> <strong>一个域管理其下的子域  （前缀树)</strong></p>
<blockquote>
<p>.jp 被划分为 ac.jp co.jp  ；</p>
<p>.cn 被划分为 edu.cn com.cn  ；</p>
</blockquote>
<p><strong>创建一个新的域，必须征得它所属域的同意  （）</strong></p>
<h4 id="域与物理网络无关"><a href="#域与物理网络无关" class="headerlink" title="域与物理网络无关"></a>域与物理网络无关</h4><ul>
<li>域的划分是逻辑的，而不是物理的  </li>
<li>域遵从组织界限，而不是物理网络</li>
</ul>
<blockquote>
<p> 一个域的主机可以不在一个网络 。但是， 一个网络的主机不一定在一个域  </p>
</blockquote>
<h2 id="问题二：-解析问题-名字服务器-Name-Server"><a href="#问题二：-解析问题-名字服务器-Name-Server" class="headerlink" title="问题二：  解析问题-名字服务器(Name Server)"></a>问题二：  解析问题-名字服务器(Name Server)</h2><h3 id="一个名字服务器存在的相关问题"><a href="#一个名字服务器存在的相关问题" class="headerlink" title="一个名字服务器存在的相关问题"></a>一个名字服务器存在的相关问题</h3><blockquote>
<p> 可靠性问题：单点故障 </p>
<p>扩展性问题：通信容量 </p>
<p>维护问题：远距离的集中式数据库   </p>
</blockquote>
<h3 id="分布式解决一个名字服务器的问题：-‘划分’-区域-zone"><a href="#分布式解决一个名字服务器的问题：-‘划分’-区域-zone" class="headerlink" title="分布式解决一个名字服务器的问题： ‘划分’ 区域(zone)"></a>分布式解决一个名字服务器的问题： ‘划分’ 区域(zone)</h3><ol>
<li>区域的划分有区域管理者自己决定  </li>
<li>将DNS名字空间划分为互不相交的区域，每个区域都是 树的一部分  </li>
<li>名字服务器：</li>
</ol>
<p> <strong>每个区域都有一个名字服务器</strong>：维护着它所管辖区域的<strong>权威信息</strong> (authoritative record)  </p>
<p> <strong>权威名字服务器</strong>允许被放置在区域之外，以保障可靠性  </p>
<h3 id="将互联网名字空间划分为若干区域（Zone）"><a href="#将互联网名字空间划分为若干区域（Zone）" class="headerlink" title="将互联网名字空间划分为若干区域（Zone）"></a>将互联网名字空间划分为若干区域（Zone）</h3><p><img src="/images/1689854586089-58673bd3-fbb4-4d88-a1f0-ffad38879973.png" alt="img"></p>
<blockquote>
<p>权威DNS服务器：组织机构的DNS服务器， 提供组织机构服务器（如 Web和mail）可访问的主机和IP之间的映射  </p>
<p> 组织机构可以选择实现自己维护或由某个服务提供商来维护  </p>
</blockquote>
<h3 id="TLD服务器："><a href="#TLD服务器：" class="headerlink" title="TLD服务器："></a>TLD服务器：</h3><ol>
<li><strong>顶级域(TLD)服务器：</strong></li>
</ol>
<p><strong>负责顶级域名（如com, org, net, edu和gov）和所有国家级的顶级域名（如cn, uk, fr, ca, jp ）</strong></p>
<blockquote>
<p> 比如： Network solutions 公司维护com TLD服务器  </p>
<p>Educause公司维护edu TLD服务器  </p>
</blockquote>
<ol>
<li><strong>顶级域名字服务器需要 维护资源的记录</strong></li>
</ol>
<p> <strong>DNS ：保存资源记录(RR)的分布式数据库</strong>  </p>
<p><img src="/images/1689855152694-74ff1b35-d5c4-46f8-b2d0-7621b713f99e.png" alt="img"></p>
<p><strong>资源记录(resource records)</strong> </p>
<ul>
<li>作用：维护 域名-IP地址(其它)的映射关系 </li>
<li>位置：Name Server的分布式数据库中</li>
</ul>
<p><strong>RR格式: (domain_name, ttl, type,class,Value)</strong> </p>
<ul>
<li><ul>
<li>Domain_name: 域名 </li>
<li>ttl: time to live : 生存时间(权威，缓冲记录)</li>
<li>Class 类别 ：对于Internet，值为IN </li>
<li>Value 值：可以是数字，域名或ASCII串(服务器的别名)</li>
<li>Type 类别：资源记录的类型—见下页</li>
</ul>
</li>
</ul>
<p><img src="/images/1689855163416-2b93b98a-64fe-4293-9723-ef0f69656ad2.png" alt="img"></p>
<blockquote>
<p>key：子域, value：该子域的子域服务器</p>
</blockquote>
<blockquote>
<p> key：子域服务器,  value：该子域服务器IP地址</p>
</blockquote>
<p>举例： </p>
<p><img src="/images/1689855750185-3ca3728a-2a10-4853-84da-de6483f2cdec.png" alt="img"></p>
<h3 id="DNS大致工作过程"><a href="#DNS大致工作过程" class="headerlink" title="DNS大致工作过程"></a>DNS大致工作过程</h3><ol>
<li><strong>应用调用解析器(resolver)</strong></li>
<li>解析器作为客户 向Name Server发出查询报文 （封装在UDP段中）</li>
<li><strong>Name Server返回响应报文(name&#x2F;ip)</strong></li>
</ol>
<p><img src="/images/1689855339031-e912c7d4-294e-44de-b5a7-7ce2b8d8303e.png" alt="img"></p>
<p><strong>一个机器上线之后必须具备以下的几个信息 :</strong></p>
<p><strong>IP，掩码，网关，DNS</strong></p>
<blockquote>
<ol>
<li>ip地址是什么</li>
<li>子网掩码是什么 （）</li>
<li>localname server本地服务器() 是什么（名字的问题去解析 需要问哪个ip名字服务器.）</li>
<li>default getway默认网关（就是在一个局域网内部， 我的ip是这个，如果我想要出去这个局域网该走哪个路由器。  ）</li>
</ol>
</blockquote>
<h3 id="本地名字服务器（Local-Name-Server）"><a href="#本地名字服务器（Local-Name-Server）" class="headerlink" title="本地名字服务器（Local Name Server）"></a>本地名字服务器（Local Name Server）</h3><blockquote>
<p> 获取名字到ip的对应关系。</p>
</blockquote>
<ul>
<li><strong>并不严格属于层次结构</strong> </li>
<li>每个ISP (居民区的ISP、公司、大学）都有一 个本地DNS服务器</li>
</ul>
<blockquote>
<p> 也称为“默认名字服务器” </p>
</blockquote>
<ul>
<li>当一个主机发起一个DNS查询时，查询被送到 其本地DNS服务器</li>
</ul>
<blockquote>
<p> 起着代理的作用，将查询转发到层次结构中  </p>
</blockquote>
<h4 id="名字服务器（Name-Server）"><a href="#名字服务器（Name-Server）" class="headerlink" title="名字服务器（Name Server）"></a>名字服务器（Name Server）</h4><blockquote>
<p>名字解析的过程： </p>
<p>目标名字在本地服务器中(有缓存)</p>
<ol>
<li>查询的名字在该区域内部</li>
<li>缓存（cashing）</li>
</ol>
</blockquote>
<p><strong>没有缓存的话：</strong> </p>
<p> 当与本地名字服务器不能解析 名字时，联系根名字服务器 顺着根-TLD 一直找到 权威名字服务器  </p>
<p><strong>也就是向上查询</strong> </p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.ustc.edu.cn/">www.ustc.edu.cn</a> : </p>
<p>假设一个他国的公司的一台设备需要解析上述的域名所对应的ip地址</p>
<ol>
<li>首先查询本地name server 有没有缓存（不在一个局域网八成是没有的。）</li>
<li>如果没有那么就向上递归查找， 看 .cn </li>
<li>.cn知道 .edu.cn的域名服务器。 </li>
<li>.edu.cn 又知道 ustc.edu.cn 的域名服务器。</li>
<li>到最后一直找打最终的域名对应的ip地址。</li>
</ol>
</blockquote>
<p><img src="/images/1689856426562-ae1610b1-d1eb-44f5-989b-ca28de85e026.png" alt="img"></p>
<p><strong>上述的查询方式是<strong><strong>递归查询</strong></strong>方式</strong></p>
<p><strong>还有一种查询方式是****迭代查询</strong></p>
<p><img src="/images/1689856781019-fb3a188f-e7c5-4910-8408-595bbdfdbe5d.png" alt="img"></p>
<p>假设 ： 主机cis.poly.edu 想知道 主机 gaia.cs.umass.edu 的IP地址</p>
<ol>
<li>根（及各级域名）服务器 返回的不是查询结果，而 是下一个NS的地址</li>
<li>最后由权威名字服务器给 出解析结果</li>
<li>当前联络的服务器给出可 以联系的服务器的名字 </li>
<li>“我不知道这个名字，但 可以向这个服务器请求”</li>
</ol>
<h3 id="DNS协议、-报文"><a href="#DNS协议、-报文" class="headerlink" title="DNS协议、 报文"></a>DNS协议、 报文</h3><p> <strong>DNS协议：查询和响应报文的报文格式相同</strong>  </p>
<p><img src="/images/1689856882215-3b27ad70-3074-4892-8af5-cb35fb20cf3d.png" alt="img"></p>
<p><img src="/images/1689856911033-63f64dd5-7c4f-4660-8f30-6e48a8701245.png" alt="img"></p>
<h3 id="提高性能-：-缓存"><a href="#提高性能-：-缓存" class="headerlink" title="提高性能 ： 缓存"></a>提高性能 ： 缓存</h3><p>一旦名字服务器学到了一个映射，就将该映射 缓存起来 </p>
<p>根服务器通常都在本地服务器中缓存着</p>
<p>使得根服务器不用经常被访问 </p>
<p><strong>目的：</strong>提高效率 </p>
<p>可能存在的问题：如果情况变化，缓存结果和 权威资源记录不一致</p>
<p><strong>解决方案：TTL（默认2天）</strong>  </p>
<h2 id="问题三：维护问题：新增一个域"><a href="#问题三：维护问题：新增一个域" class="headerlink" title="问题三：维护问题：新增一个域"></a>问题三：维护问题：新增一个域</h2><ol>
<li><strong>在上级域的名字服务器中增加两条记录，指向这个新增 的子域的域名 和 域名服务器的地址</strong></li>
<li><strong>在新增子域 的名字服务器上运行名字服务器，负责本域 的名字解析： 名字-&gt;IP地址</strong></li>
</ol>
<h3 id="例子：在com域中建立一个“Network-Utopia”"><a href="#例子：在com域中建立一个“Network-Utopia”" class="headerlink" title="例子：在com域中建立一个“Network Utopia”"></a>例子：在com域中建立一个“Network Utopia”</h3><ol>
<li><strong>到注册登记机构注册域名networkutopia.com</strong></li>
</ol>
<blockquote>
<p>1.1.  需要向该机构提供权威DNS服务器（基本的、和辅助的）的名字 和IP地址  </p>
<p>1.2.  登记机构在com TLD服务器中插入两条RR记录: (networkutopia.com, dns1.networkutopia.com, NS)(dns1.networkutopia.com, 212.212.212.1, A)  </p>
</blockquote>
<ol>
<li><strong>在networkutopia.com的权威服务器中确保有</strong></li>
</ol>
<ul>
<li>用于Web服务器的<a target="_blank" rel="noopener" href="http://www.networkuptopia.com的类型为a的记录/">www.networkuptopia.com的类型为A的记录</a> </li>
<li>用于邮件服务器mail.networkutopia.com的类型为MX的记录</li>
</ul>
<h2 id="攻击DNS"><a href="#攻击DNS" class="headerlink" title="攻击DNS"></a>攻击DNS</h2><p><img src="/images/1689857270966-ad02bab2-2f0f-4508-ad2e-3ab252c88091.png" alt="img"></p>
<h1 id="P2P应用"><a href="#P2P应用" class="headerlink" title="P2P应用"></a>P2P应用</h1><p>之前介绍的例子都是CS模型的， 但是CS模型存在很多问题 。</p>
<p>比如： 可扩展性、可靠性等。 随着用户数量的不断增多， 用户都从服务器去获取服务（文件、视频检波等）， 一旦服务挂了。 所有应用都无法服务</p>
<p><strong>什么是P2P？</strong> </p>
<p><strong>大概就是一个节点既是服务器又是客户端。</strong></p>
<h2 id="纯P2P架构"><a href="#纯P2P架构" class="headerlink" title="纯P2P架构"></a>纯P2P架构</h2><ul>
<li><strong>没有（或极少）一直运行的 服务器</strong> </li>
<li><strong>任意端系统都可以直接通信</strong> </li>
<li><strong>利用peer的服务能力</strong> </li>
<li><strong>Peer节点间歇上网，每次IP 地址都有可能变化</strong></li>
</ul>
<p><img src="/images/1690075109752-61f9fad2-d84c-44f9-b5b2-50c309db660b.png" alt="img"></p>
<p>例子： </p>
<ol>
<li><strong>文件分发（BitTorrent）</strong></li>
<li><strong>流媒体（KanKan）【</strong>从其他的节点获取流量，不需要从其他的服务器去获取信息<strong>】</strong></li>
<li><strong>VoIP（Skype）【互联网打电话】</strong></li>
</ol>
<h2 id="文件分发（BitTorrent"><a href="#文件分发（BitTorrent" class="headerlink" title="文件分发（BitTorrent)"></a>文件分发（BitTorrent)</h2><h3 id="C-x2F-S-vs-P2P"><a href="#C-x2F-S-vs-P2P" class="headerlink" title="[C&#x2F;S vs P2P]"></a>[C&#x2F;S vs P2P]</h3><p>在cs模式中， 一般都是由服务器提供上载， 客户端提供下载，有些客户端也能够提供上载服务 ，但是速率十分慢， 所以可以忽略不记。</p>
<p>而p2p模式则不是。 它是将一个节点既是客户端又是服务器端</p>
<ol>
<li><strong>问题: 从一台服务器分发文件（大小F）到N个peer 需要多少时间？</strong></li>
</ol>
<p>从peer节点上下载能力是有限的</p>
<p><img src="/images/1690075419788-26f1ed44-197c-4cc5-b9d5-b8bbcc447cc1.png" alt="img"></p>
<p>下载下线就是说下载最慢的时间</p>
<h3 id="文件分发时间：-C-x2F-S模式"><a href="#文件分发时间：-C-x2F-S模式" class="headerlink" title="文件分发时间： C&#x2F;S模式"></a>文件分发时间： C&#x2F;S模式</h3><p> <strong>服务器传输：</strong> 都是由服务器 发送给peer，服务器必须顺序 传输（上载）N个文件拷贝:  </p>
<ul>
<li><strong>发送一个copy: F&#x2F;us</strong></li>
<li><strong>发送N个copy： NF&#x2F;u</strong></li>
</ul>
<p><img src="/images/1690075638103-c8909d51-5397-418f-93e6-ea3a00b8ca87.png" alt="img"></p>
<p> <strong>客户端:</strong> 每个客户端必须下 载一个文件拷贝  </p>
<ul>
<li>dmin &#x3D; 客户端最小的下载速率 </li>
<li>下载带宽最小的客户端下载的 时间：F&#x2F;dmin</li>
</ul>
<p><img src="/images/1690075647233-c9ddf255-5f98-4112-95fd-37e88d5eae4c.png" alt="img"></p>
<h3 id="文件分发时间-P2P模式"><a href="#文件分发时间-P2P模式" class="headerlink" title="文件分发时间: P2P模式"></a>文件分发时间: P2P模式</h3><p><strong>服务器传输：</strong>最少需要上载一份拷贝  </p>
<ul>
<li>发送一个拷贝的时间：F&#x2F;u</li>
</ul>
<p><img src="/images/1690075885007-1ed3293e-bb6c-4b74-b18c-9b5f99b7b430.png" alt="img"></p>
<p><strong>客户端：</strong> 每个客户端必须下载一 个拷贝  </p>
<ul>
<li>最小下载带宽客户单耗时：: F&#x2F;dmin</li>
</ul>
<p> <strong>所有客户端总体下载量NF  （N是要下载n份，</strong> <strong>一个文件的大小是F<strong><strong>，所以</strong></strong>总的下载量是NF****）</strong></p>
<ul>
<li><strong>最大<strong><strong>上载带宽</strong></strong>是：Us + Σui</strong> （<strong>Us: 服务器的上载带宽  +  每个peer节点的上载带宽）</strong> </li>
<li>除了服务器可以上载，其他所有的peer节点都可以上载</li>
</ul>
<p><img src="/images/1690075892603-fb53b0da-b29e-4514-a70b-172dcce23798.png" alt="img"></p>
<h4 id="举例："><a href="#举例：" class="headerlink" title="举例："></a>举例：</h4><p><strong>Client-server VS P2P的例子</strong></p>
<blockquote>
<p> 如果说当服务器充足的时候，想要提高效率的话， 客户端的下载能力是瓶颈， 但是如果当服务器数量不能再增加，但是客户端又要增加的时候， 那么此时服务器的上载能力则是瓶颈。 毕竟客户端的数量是远远大于服务器端的数量的。</p>
</blockquote>
<p> <strong>客户端上载速率 &#x3D; u, F&#x2F;u &#x3D; 1 小时, Us &#x3D; 10u, dmin ≥ Us</strong>  </p>
<p><img src="/images/1690075936172-01857519-e868-4e01-9b9d-29a9a3745233.png" alt="img"></p>
<blockquote>
<p> 从上述可以看出。 纯clent-server模式， 一旦客户端的数量达到一定的程度， 他的速率就完全定格了（因为服务器的数量有限， 所以此时决定速率的就是服务器的上载速率。 ）</p>
</blockquote>
<p><strong>而我们使用的p2p（peer to peer） 也就是我们常说的人人为我我为人人。每个peer ，它既可以上载也可以作为clent进行下载。 效率会随着机器数量的add 而不断的 add。 效率完全取决于用户数量。 十分适合现在的体系</strong>	</p>
<h2 id="P2P文件分发：-BitTorrent"><a href="#P2P文件分发：-BitTorrent" class="headerlink" title="P2P文件分发： BitTorrent"></a>P2P文件分发： BitTorrent</h2><p>p2p的管理模式</p>
<ul>
<li><p>非结构化p2p（分布式散列表）： 每个peer之间构成的关系（上传下载），互通有无，就构成了一个有序的覆盖网（类似于环、树的关系）</p>
</li>
<li><p>结构化P2P： peer节点之间构成的覆盖关系是任意的、无序的。</p>
</li>
<li><p>文件被分为一个个块256KB </p>
</li>
<li><p>网络中的这些peers发送接收文件块，相互服务</p>
</li>
</ul>
<p><img src="/images/1690076025443-41bd95c4-7e81-4412-8ef1-e33f4394f6df.png" alt="img"></p>
<p><strong>Peer加入torrent</strong></p>
<ul>
<li>一开始没有块，但是将会通 过其他节点处累积文件块</li>
<li>向跟踪服务器注册，获得 peer节点列表，和部分peer 节点构成邻居关系 (“连接 ”)</li>
</ul>
<p><img src="/images/1690077579874-5ee4c700-6e58-4cbb-9ac5-a8437bb94b09.png" alt="img"></p>
<ul>
<li>当peer下载时，该peer可以同时向其他节点提供上载服务</li>
<li>Peer可能会变换用于交换块的peer节点 </li>
<li><strong>扰动churn :</strong>  peer节点可能会上线或者下线</li>
<li>一旦一个peer拥有整个文件，它会（自私的）离开或者保 留（利他主义）在torrent中</li>
</ul>
<h2 id="BitTorrent-请求，发送文件块"><a href="#BitTorrent-请求，发送文件块" class="headerlink" title="BitTorrent: 请求，发送文件块"></a>BitTorrent: 请求，发送文件块</h2><p> <strong>请求块：</strong></p>
<ul>
<li><p>在任何给定时间，不同 peer节点拥有一个文件块 的子集</p>
</li>
<li><p>周期性的，Alice节点向 邻居询问他们拥有哪些块 的信息 </p>
</li>
<li><p>Alice向peer节点请求它 希望的块，稀缺的块</p>
</li>
</ul>
<p> <strong>发送块：一报还一报titfor-tat</strong> </p>
<ul>
<li><p><strong>Alice向4个peer发送块，这些 块向它自己提供最大带宽的服 务</strong></p>
</li>
<li><ul>
<li>其他peer被Alice阻塞 (将不会 从Alice处获得服务) </li>
<li>每10秒重新评估一次：前4位</li>
</ul>
</li>
<li><p><strong>每个30秒：随机选择其他peer 节点，向这个节点发送块</strong></p>
</li>
<li><ul>
<li>“优化疏通” 这个节点 </li>
<li>新选择的节点可以加入这个top 4</li>
</ul>
</li>
</ul>
<h3 id="BitTorrent-tit-for-tat"><a href="#BitTorrent-tit-for-tat" class="headerlink" title="BitTorrent: tit-for-tat"></a>BitTorrent: tit-for-tat</h3><p>(1) Alice “优化疏通” Bob </p>
<p>(2) Alice 变成了Bob的前4位提供者; Bob答谢Alice </p>
<p>(3) Bob 变成了Alice的前4提供者  </p>
<p><img src="/images/1690077707729-700def34-2d80-4724-ae4a-85ee3feb404c.png" alt="img"></p>
<h2 id="P2P文件共享"><a href="#P2P文件共享" class="headerlink" title="P2P文件共享"></a>P2P文件共享</h2><p>应用例子： </p>
<p><img src="/images/1690077858758-d9c84074-7e0b-405f-b4f7-51349a395de4.png" alt="img"></p>
<p><strong>P2P文件共享需要解决的有两个问题：</strong> </p>
<ol>
<li>如何定位所需资源（目录服务的问题）</li>
<li>如何处理对等方的加入与离开（节点的管理问题）</li>
</ol>
<p><strong>已知的解决方案：</strong> </p>
<ul>
<li>集中</li>
<li>分散</li>
<li>半分散</li>
</ul>
<h3 id="P2P：集中式目录"><a href="#P2P：集中式目录" class="headerlink" title="P2P：集中式目录"></a>P2P：集中式目录</h3><p> 最初的“Napster”设计 </p>
<ul>
<li><p>\1) 当对等方连接时，它告知 中心服务器： </p>
</li>
<li><ul>
<li>IP地址</li>
<li>内容</li>
</ul>
</li>
<li><p>\2) Alice查询 “双截棍.MP3”(资源) </p>
</li>
<li><p>\3) Alice从Bob处请求文件 （下载or其他）</p>
</li>
<li><p>Bob响应并处理请求</p>
</li>
</ul>
<p><img src="/images/1690078051659-1ccd4ae6-24bf-45c5-8b7a-57d68f97afb1.png" alt="img"></p>
<h3 id="P2P：集中式目录中存在的问题"><a href="#P2P：集中式目录中存在的问题" class="headerlink" title="P2P：集中式目录中存在的问题"></a>P2P：集中式目录中存在的问题</h3><ul>
<li>单点故障（目录服务器挂了怎么办）</li>
<li>性能瓶颈 （clent-server问题，很多的clent对应一个serveer）</li>
<li>侵犯版权</li>
</ul>
<p>文件传输是分散的， 而定位内容则是高度 集中的  </p>
<h3 id="完全分布式（一个实例-查询洪泛：Gnutella-）"><a href="#完全分布式（一个实例-查询洪泛：Gnutella-）" class="headerlink" title="完全分布式（一个实例 查询洪泛：Gnutella  ）"></a>完全分布式（一个实例 查询洪泛：Gnutella  ）</h3><blockquote>
<p> 解决的两个问题： </p>
<ol>
<li>如何定位所需资源（目录服务的问题）</li>
<li>如何处理对等方的加入与离开（节点的管理问题）</li>
</ol>
</blockquote>
<ul>
<li><p><strong>全分布式</strong></p>
</li>
<li><ul>
<li>没有中心服务器</li>
</ul>
</li>
<li><p><strong>开放文件共享协议</strong> </p>
</li>
<li><p><strong>许多Gnutella客户端 实现了Gnutella协议</strong></p>
</li>
<li><ul>
<li>类似HTTP有许多的 浏览器</li>
</ul>
</li>
</ul>
<p> <strong>覆盖网络：图</strong>  </p>
<blockquote>
<ol>
<li>如果X和Y之间有一个 TCP连接，则二者之间 存在一条边</li>
<li>所有活动的对等方和边 就是覆盖网络 </li>
<li>边并不是物理链路 </li>
<li>给定一个对等方，通常 所连接的节点少于10个</li>
</ol>
</blockquote>
<h2 id="Gnutella-协议"><a href="#Gnutella-协议" class="headerlink" title="Gnutella:  协议"></a>Gnutella:  协议</h2><ul>
<li><strong>在已有的TCP连接上 发送查询报文</strong> </li>
<li><strong>对等方转发查询报文</strong> </li>
<li><strong>以反方向返回查询命 中报文</strong>  </li>
<li><strong>文件传输：HTTP</strong></li>
</ul>
<p><img src="/images/1690078422126-22092a48-aeac-4747-8a14-2ed1a74b3691.png" alt="img"></p>
<p> 可扩展性： 限制范围的 洪泛查询  </p>
<h3 id="Gnutella：对等方加入"><a href="#Gnutella：对等方加入" class="headerlink" title="Gnutella：对等方加入"></a>Gnutella：对等方加入</h3><ol>
<li>对等方X必须首先发现某些已经在覆盖网络中的其他对<br>等方：使用可用对等方列表<br>自己维持一张对等方列表（经常开机的对等方的IP）<br>联系维持列表的Gnutella站点</li>
<li>X接着试图与该列表上的对等方建立TCP连接，直到与<br>某个对等方Y建立连接</li>
<li>X向Y发送一个Ping报文，Y转发该Ping报文</li>
<li>所有收到Ping报文的对等方以Pong报文响应<br>IP地址、共享文件的数量及总字节数</li>
<li>X收到许多Pong报文，然后它能建立其他TCP连接</li>
</ol>
<h3 id="Gnutella：-对等方离开"><a href="#Gnutella：-对等方离开" class="headerlink" title="Gnutella： 对等方离开"></a>Gnutella： 对等方离开</h3><p>个人理解： 可以通过加TTL</p>
<h3 id="半分散（-利用不匀称性：KaZaA-）"><a href="#半分散（-利用不匀称性：KaZaA-）" class="headerlink" title="半分散（ 利用不匀称性：KaZaA  ）"></a>半分散（ 利用不匀称性：KaZaA  ）</h3><ol>
<li><p>每个对等方要么是一个 组长，要么隶属于一个 组长 </p>
</li>
<li><ol>
<li>对等方与其组长之间有 TCP连接</li>
<li>组长对之间有TCP连接</li>
</ol>
</li>
<li><p>组长跟踪其所有的孩子 的内容</p>
</li>
<li><p>组长与其他组长联系</p>
</li>
<li><ol>
<li>转发查询到其他组长</li>
<li>获得其他组长的数据拷贝</li>
</ol>
</li>
</ol>
<p><img src="/images/1690079011466-63f26173-9ca5-4c90-aab7-39577eb0d7c5.png" alt="img"></p>
<h3 id="KaZaA：查询"><a href="#KaZaA：查询" class="headerlink" title="KaZaA：查询"></a>KaZaA：查询</h3><ol>
<li><p>每个文件有一个<strong>散列标识码和一个描述符</strong></p>
</li>
<li><p><strong>客户端向其组长发送关键字查询</strong></p>
</li>
<li><p>组长用匹配进行响应：</p>
</li>
<li><ol>
<li><strong>对每个匹配：元数据、散列标识码和IP地址</strong></li>
</ol>
</li>
<li><p>如果组长将查询转发给其他组长，其他组长也以匹配进行响应</p>
</li>
<li><p>客户端选择要下载的文件 </p>
</li>
<li><ol>
<li><strong>向拥有文件的对等方发送一个带散列标识码的 HTTP请求</strong></li>
</ol>
</li>
</ol>
<h4 id="Kazaa小技巧"><a href="#Kazaa小技巧" class="headerlink" title="Kazaa小技巧"></a>Kazaa小技巧</h4><ol>
<li>请求排队</li>
</ol>
<ul>
<li>限制并行上载的数量  </li>
<li>确保每个被传输的文件从上载节点接收一定量的带宽</li>
</ul>
<ol>
<li>激励优先权</li>
</ol>
<ul>
<li>鼓励用户上载文件  </li>
<li>加强系统的扩展性</li>
</ul>
<ol>
<li>并行下载</li>
</ol>
<ul>
<li>从多个对等方下载同一个文件的不同部分</li>
</ul>
<h1 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h1><h2 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h2><blockquote>
<p>随着网络得普及， 视频类业务占据着流量市场得大部分带宽， 人数也是占有量最大得。<br>如何让用户之间能够同步得播放视频等成为了互联网得最大挑战之一。</p>
</blockquote>
<p> 单个超级服务器无法提供服务。<br><strong>解决方案： 分布式应用层可解决， 应用层面的基础设施。</strong></p>
<h2 id="多媒体视频"><a href="#多媒体视频" class="headerlink" title="多媒体视频"></a>多媒体视频</h2><p> 视频：固定速度显示的图像序列。</p>
<h3 id="网络视频特点："><a href="#网络视频特点：" class="headerlink" title="网络视频特点："></a>网络视频特点：</h3><ul>
<li>高码率：&gt;10x于音频,高的网络带 宽需求 </li>
<li>可以被压缩 </li>
<li>90%以上的网络流量是视频</li>
</ul>
<p>** 数字化图像：像素的阵列  （ **每个像素被若干bits表示  <strong>）</strong><br> 编码：使用图像内和图像间的 冗余来降低编码的比特数  </p>
<ul>
<li>空间冗余(图像内) </li>
<li>时间冗余(相邻的图像间)</li>
</ul>
<p><img src="/images/1690198738978-e504ca97-f569-469d-afe3-1466ec69620c.png" alt="image.png"></p>
<ul>
<li>**CBR: (constant bit rate): 以固定速率编码 **</li>
<li><strong>VBR: (variable bit rate): 视频编码速率随 时间的变化而变化</strong></li>
<li>例子: <ul>
<li>MPEG 1 (CD-ROM) 1.5 Mbps </li>
<li>MPEG2 (DVD) 3-6 Mbps</li>
<li>MPEG4 (often used in Internet, &lt; 1 Mbps)</li>
</ul>
</li>
</ul>
<p><img src="/images/1690198819309-2cf12e82-7412-4f73-8c81-24f6adf77e87.png" alt="image.png"></p>
<h2 id="存储视频得流化服务（Streaming）"><a href="#存储视频得流化服务（Streaming）" class="headerlink" title="存储视频得流化服务（Streaming）"></a>存储视频得流化服务（Streaming）</h2><p><img src="/images/1690198854981-af118a65-ca90-4b84-9dd2-b191f0014765.png" alt="image.png"></p>
<h3 id="多媒体流化服务-：-DASH"><a href="#多媒体流化服务-：-DASH" class="headerlink" title="多媒体流化服务 ： DASH"></a>多媒体流化服务 ： DASH</h3><p><strong>DASH: Dynamic, Adaptive Streaming over HTTP</strong></p>
<blockquote>
<p>用户在播放视频时边下载边播放， 减少因为网络原因得卡顿。<br>相当于我们看虎牙直播 ，如果当前得网络不支持4k， 那么就会切换成1080p</p>
</blockquote>
<p>**服务器: **</p>
<ul>
<li>将视频文件分割成多个块</li>
<li>每个块独立存储，编码于不同码率（8-10种[1080p、4k等等 ] ）</li>
<li>告示文件（manifest file）: 提供不同块的URL</li>
</ul>
<p>**客户端: **</p>
<ul>
<li>先获取告示文件</li>
<li>周期性地测量服务器到客户端的带宽</li>
<li>查询告示文件,在一个时刻请求一个块，HTTP头部指定字 节范围<ul>
<li>如果带宽足够，选择最大码率的视频块</li>
<li>会话中的不同时刻，可以切换请求不同的编码块 (取 决于当时的可用带宽)</li>
</ul>
</li>
</ul>
<h4 id="“智能”客户端-客户端自适应决定（动态自适应）"><a href="#“智能”客户端-客户端自适应决定（动态自适应）" class="headerlink" title="“智能”客户端: 客户端自适应决定（动态自适应）"></a>“智能”客户端: 客户端自适应决定（动态自适应）</h4><ol>
<li>什么时候去请求块 (不至于缓存挨饿，或者溢出)</li>
<li>请求什么编码速率的视频块 (当带宽够用时，请求高质 量的视频块) </li>
<li>哪里去请求块 (可以向离自己近的服务器发送URL，或 者向高可用带宽的服务器请求)</li>
</ol>
<h2 id="Content-Distribution-Networks-（CDN）"><a href="#Content-Distribution-Networks-（CDN）" class="headerlink" title="Content Distribution Networks （CDN）"></a>Content Distribution Networks （CDN）</h2><p><strong>CDN： 内容分发网络</strong></p>
<blockquote>
<p>大家都是从一个或者说微缩非常少的服务器上去流化服务的化会带来什么问题？ （也就是高并发情况）</p>
</blockquote>
<p>**挑战: **服务器如何通过网络向上百万用户同时 流化视频内容 (上百万视频内容)?<br>以下的几种方法…</p>
<h3 id="使用单个，-超大的超级服务中心-“megaserver”出现的问题"><a href="#使用单个，-超大的超级服务中心-“megaserver”出现的问题" class="headerlink" title="使用单个， 超大的超级服务中心 “megaserver”出现的问题"></a>使用单个， 超大的超级服务中心 “megaserver”出现的问题</h3><blockquote>
<p>通过服务器自身的提升来提高效率	</p>
</blockquote>
<ul>
<li>服务器到客户端路径上跳数较多，瓶颈链路的带宽 小导致停顿 </li>
<li>“二八规律”决定了网络同时充斥着同一个视频的 多个拷贝，效率低（付费高、带宽浪费、效果差） </li>
<li>单点故障点，性能瓶颈 </li>
<li>周边网络的拥塞</li>
</ul>
<blockquote>
<p>** 相当简单，但是这个方法不可扩展  **</p>
</blockquote>
<h3 id="通过CDN，全网部署缓存节点，存储服务内容，就近为用户提供服务，提高用户体验"><a href="#通过CDN，全网部署缓存节点，存储服务内容，就近为用户提供服务，提高用户体验" class="headerlink" title="通过CDN，全网部署缓存节点，存储服务内容，就近为用户提供服务，提高用户体验"></a>通过CDN，全网部署缓存节点，存储服务内容，就近为用户提供服务，提高用户体验</h3><blockquote>
<p>CDN： 内容分发网络<br>CDN的运营商将节点部署按照一定的部署策略	将节点部署到世界各地， 然后如果某个商户（假设抖音）， 上传视频给用户去看， 视频就会上传的很多节点上， 然后不同地方的用户设备通过就近原则找到自己附件的节点 ，然后将视频拉去到本地。然后给用户看。</p>
</blockquote>
<p><strong>enter deep: 将CDN服务器深入到许多接入网</strong></p>
<ul>
<li>更接近用户，数量多，离用户近，管理困难</li>
<li>Akamai, 1700个位置</li>
</ul>
<p>**bring home: 部署在少数(10个左右)关键位置，如将服务器簇安装于POP附近（离若干1stISP POP较近） **</p>
<ul>
<li>采用租用线路将服务器簇连接起来 </li>
<li>Limelight</li>
</ul>
<blockquote>
<p>**用户如何知道访问的内容是从哪里访问的呢？ **</p>
<ol>
<li><strong>告示文件（manifest file）: 提供不同块的URL</strong></li>
<li><strong>通过域名解析的重定向</strong></li>
</ol>
</blockquote>
<p>**CDN: 在CDN节点中存储内容的多个拷贝 **<br>• e.g. Netflix stores copies of MadMen<br>** 用户从CDN中请求内容  **</p>
<ul>
<li>重定向到最近的拷贝，请求内容 </li>
<li>如果网络路径拥塞，可能选择不同的拷贝</li>
</ul>
<p><img src="/images/1690200518007-b0efcf00-27c1-4418-94a2-0479091f710d.png" alt="image.png"></p>
<p><strong>CDN网络的特点就是： 采用主机-主机之间的服务来加速内容访问。</strong><br><img src="/images/1690200634518-59cbeee8-471d-47cb-acb8-8423a00a90c9.png" alt="image.png"><br> <strong>OTT 挑战: 在拥塞的互联网上复制内容</strong> </p>
<ul>
<li>从哪个CDN节点中获取内容？ </li>
<li>用户在网络拥塞时的行为？ </li>
<li>在哪些CDN节点中存储什么内容？</li>
</ul>
<h3 id="场景："><a href="#场景：" class="headerlink" title="场景："></a>场景：</h3><p>** Bob(客户端)请求视频<a target="_blank" rel="noopener" href="http://netcinema.com/6Y7B23V">http://netcinema.com/6Y7B23V</a> **</p>
<ul>
<li>**视频存储在CDN，位于<a target="_blank" rel="noopener" href="http://kingcdn.com/NetC6y&B23V">http://KingCDN.com/NetC6y&amp;B23V</a>  **</li>
</ul>
<p><img src="/images/1690201042248-2f001c40-b7c4-44f2-9e3d-13ff0c604f91.png" alt="image.png"></p>
<h3 id="最早的网络视频点播服务（网飞）Netflix"><a href="#最早的网络视频点播服务（网飞）Netflix" class="headerlink" title="最早的网络视频点播服务（网飞）Netflix"></a>最早的网络视频点播服务（网飞）Netflix</h3><p><img src="/images/1690201657518-43cbaa9b-b5f6-4518-bee0-a910520752d7.png" alt="image.png"><br>将自己制作的内容发给很多的CDN运营商， 通过这些运营商来传播自己的内容。	</p>
<h1 id="TCP套接字（Socket）编程"><a href="#TCP套接字（Socket）编程" class="headerlink" title="TCP套接字（Socket）编程"></a>TCP套接字（Socket）编程</h1><h1 id="UDP套接字编程"><a href="#UDP套接字编程" class="headerlink" title="UDP套接字编程"></a>UDP套接字编程</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://Ray2310.github.io">Rayce.</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://ray2310.github.io/post/70dbcc05.html">https://ray2310.github.io/post/70dbcc05.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Ray2310.github.io" target="_blank">Rayce. Blogs</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></div><div class="post_share"><div class="social-share" data-image="https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&amp;imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&amp;tbnid=O22DjUrs0X8icM&amp;vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&amp;docid=Xc2fZTMSl7dnDM&amp;w=1202&amp;h=676&amp;q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&amp;ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/3c40bcf4.html" title="应用层"><img class="cover" src="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fm.duitang.com%2Fblogs%2Ftag%2F%3Fname%3D%25E7%25AE%2580%25E7%25BA%25A6%25E5%25A3%2581%25E7%25BA%25B8&amp;psig=AOvVaw2LdtjXeJYr5p33Qbr1LJKq&amp;ust=1672760873466000&amp;source=images&amp;cd=vfe&amp;ved=0CA0QjRxqFwoTCLjanYCeqfwCFQAAAAAdAAAAABAD" onerror="onerror=null;src='/img/second.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">应用层</div></div></a></div><div class="next-post pull-right"><a href="/post/173be129.html" title="Nacos注册中心"><img class="cover" src="https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/78310a55b319ebc47c0169ab8526cffc1e171682.jpg" onerror="onerror=null;src='/img/second.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Nacos注册中心</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/62050984.html" title="网络通信协议整体框架"><img class="cover" src="https://desk-fd.zol-img.com.cn/t_s208x130c5/g4/M08/00/0B/ChMly13CMDWIZfctAAvXuPJhBZEAAYRRQPV_woAC9fQ316.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-09-09</div><div class="title">网络通信协议整体框架</div></div></a></div><div><a href="/post/26289d63.html" title="LANs"><img class="cover" src="https://th.bing.com/th/id/OIP.1tjF2kQmna-oY-8tTH5OQgHaE7?pid=ImgDet&rs=1" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-23</div><div class="title">LANs</div></div></a></div><div><a href="/post/2b8709a.html" title="链路层和局域网"><img class="cover" src="https://static-bbs.nubia.cn/forum/201705/11/212740nj1388z8351yy5yp.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-21</div><div class="title">链路层和局域网</div></div></a></div><div><a href="/post/bd8ebccd.html" title="网络层控制平面"><img class="cover" src="https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.moyublog.com%2Fhdwallpapers%2F1293.html&psig=AOvVaw3c6ZALefYz1O2l67XhTguu&ust=1672761033715000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAD" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-20</div><div class="title">网络层控制平面</div></div></a></div><div><a href="/post/7b0ddfa2.html" title="Internet Protocol"><img class="cover" src="https://static-bbs.nubia.cn/forum/201705/11/212740nj1388z8351yy5yp.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-12</div><div class="title">Internet Protocol</div></div></a></div><div><a href="/post/769365ef.html" title="网络层"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg - https://img.51miz.com/Element/00/72/77/78/575accf3_E727778_6fadd380.jpg - https://bpic.588ku.com/back_origin_min_pic/19/10/22/4b2ca2ba13a830385cd398820ef837e1.jpg - https://th.bing.com/th/id/R.fc3712934d3f14e93bb049cb3be0ee18?rik=0ZlOt7i89hWjVA&riu=http%3a%2f%2fwww.kutoo8.com%2fupload%2fimage%2f17634230%2f5656000.jpg&ehk=ecvpFWTMp4spOXJ7pxOpzNwsdlk591NfEtk31YSdogg%3d&risl=&pid=ImgRaw&r=0 - https://th.bing.com/th/id/OIP.F8Oa7hJkWSPopA80qdOHfAHaFS?pid=ImgDet&rs=1 - https://th.bing.com/th/id/OIP.nZkOrLOn_bp0mLFxlK-x2wHaEK?pid=ImgDet&rs=1 - https://i.pinimg.com/236x/0c/da/a8/0cdaa811391a4313baf1a2128a76baad.jpg - https://th.bing.com/th/id/R.0fc443a72d9db316bfde971a16183f0b?rik=PXfjJ755mSffZQ&riu=http%3a%2f%2fpic.qqbizhi.com%2fallimg%2fbbpic%2f52%2f1152_1.jpg&ehk=7rVKhOuGUW%2bcK6qwj4%2fmjwH1ZrDLF1e82i%2f09SqbqSE%3d&risl=&pid=ImgRaw&r=0 - https://th.bing.com/th/id/OIP.1tjF2kQmna-oY-8tTH5OQgHaE7?pid=ImgDet&rs=1 - https://www.google.com/url?sa=i&url=https%3A%2F%2Fm.duitang.com%2Fblogs%2Ftag%2F%3Fname%3D%25E7%25AE%2580%25E7%25BA%25A6%25E5%25A3%2581%25E7%25BA%25B8&psig=AOvVaw2LdtjXeJYr5p33Qbr1LJKq&ust=1672760873466000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCLjanYCeqfwCFQAAAAAdAAAAABAD - https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.win3000.com%2Ftags%2Fjianyue%2F&psig=AOvVaw2LdtjXeJYr5p33Qbr1LJKq&ust=1672760873466000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCLjanYCeqfwCFQAAAAAdAAAAABAH - https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcGq1FpSxF0qUTqQbAkH_2uaT-SVYw7DP9eQ&usqp=CAU - https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRAV5IsDhf40B0JNiTadUzM9WvxBWbE9ud8mw&usqp=CAU - https://desk-fd.zol-img.com.cn/t_s208x130c5/g4/M08/00/0B/ChMly13CMDWIZfctAAvXuPJhBZEAAYRRQPV_woAC9fQ316.jpg - https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdBEWTRsoTmfSwHZizVfB5ULTdnM2HLfWx_A&usqp=CAU - https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&tbnid=O22DjUrs0X8icM&vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&docid=Xc2fZTMSl7dnDM&w=1202&h=676&q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ - https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.moyublog.com%2Fhdwallpapers%2F1293.html&psig=AOvVaw3c6ZALefYz1O2l67XhTguu&ust=1672761033715000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAD - https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.99ziyuan.net%2Fgqbz%2F4kbj%2F38752.html&psig=AOvVaw3c6ZALefYz1O2l67XhTguu&ust=1672761033715000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAI - https://www.google.com/url?sa=i&url=http%3A%2F%2Fwww.bizhi360.com%2Fweimei%2F&psig=AOvVaw3c6ZALefYz1O2l67XhTguu&ust=1672761033715000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAQ - https://www.google.com/url?sa=i&url=https%3A%2F%2Fdesk.3gbizhi.com%2Fdeskjy%2F905.html&psig=AOvVaw3c6ZALefYz1O2l67XhTguu&ust=1672761033715000&source=images&cd=vfe&ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAY - https://th.bing.com/th/id/OIP.IyVUba7h32yX0HI7AFFh2QHaEb?pid=ImgDet&rs=1 - https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/96dda144ad34598213c81de20cf431adcbef8404.jpg - https://th.bing.com/th/id/OIP.tfFLWvWy8EniC-hp9L1zNgHaEK?pid=ImgDet&rs=1 - https://gss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/d058ccbf6c81800ae9cb0e37b83533fa828b47d9.jpg - https://static-bbs.nubia.cn/forum/201705/11/212740nj1388z8351yy5yp.jpg - https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/e850352ac65c10386843e1f4be119313b07e89c2.jpg - https://th.bing.com/th/id/R.1adcbe85544d76e1e2e31d2683253438?rik=rtegGZrm6rdgzw&riu=http%3a%2f%2fi2.hdslb.com%2fbfs%2farchive%2f2271e3d6ed6618845ff8cf4bdeeed33184e23d08.jpg&ehk=1sjnDT9IMMCM15%2fS4Pinlh5dZABRnayTAPoUKHeEeGs%3d&risl=&pid=ImgRaw&r=0 - https://gss0.baidu.com/-Po3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/78310a55b319ebc47c0169ab8526cffc1e171682.jpg - https://pic2.zhimg.com/v2-93d5754cb8c35c94f8ade4a5399929c1_r.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-10</div><div class="title">网络层</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/109897266?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Rayce.</div><div class="author-info__description">Time never speaks, but answers all questions</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">126</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Ray2310"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Ray2310" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1326507725@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><p align="center">无人扶我青云志，我自踏雪至山巅</p> <p align="center">倘若命中无此运，孤身亦可登昆仑</p></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#DNS%EF%BC%88%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%B3%BB%E7%BB%9F%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">DNS（域名解析系统）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7%EF%BC%88%E5%BF%85%E8%A6%81%E6%80%A7%EF%BC%89"><span class="toc-number">1.1.</span> <span class="toc-text">DNS的重要性（必要性）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS%E7%B3%BB%E7%BB%9F%E9%9C%80%E8%A6%81%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.</span> <span class="toc-text">DNS系统需要解决的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS-Domain-Name-System-%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">DNS (Domain Name System)  的发展历史</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ARPANET-%E7%9A%84%E5%90%8D%E5%AD%97%E8%A7%A3%E6%9E%90-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A"><span class="toc-number">1.3.1.</span> <span class="toc-text">ARPANET 的名字解析 解决方案：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E8%BF%B0ARPANET-%E7%9A%84%E5%90%8D%E5%AD%97%E8%A7%A3%E6%9E%90-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">上述ARPANET 的名字解析 解决方法所遇到的问题：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS%E7%9A%84%E6%80%BB%E4%BD%93%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="toc-number">1.4.</span> <span class="toc-text">DNS的总体设计思路和目标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="toc-number">1.4.1.</span> <span class="toc-text">设计思路：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E7%9A%84%E4%B8%BB%E8%A6%81%E7%9B%AE%E7%9A%84%EF%BC%9A"><span class="toc-number">1.4.2.</span> <span class="toc-text">DNS的主要目的：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E7%9A%84%E4%B8%89%E4%B8%AA%E9%97%AE%E9%A2%98-%EF%BC%9A"><span class="toc-number">1.5.</span> <span class="toc-text">解决的三个问题 ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%B8%80-%EF%BC%9A-DNS%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4-The-DNS-Name-Space"><span class="toc-number">1.6.</span> <span class="toc-text">问题一 ： DNS名字空间(The DNS Name Space)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%9F%9F%E5%90%8D%E7%BB%93%E6%9E%84-%EF%BC%9A"><span class="toc-number">1.6.1.</span> <span class="toc-text">DNS域名结构  ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS-%E6%A0%B9%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.6.2.</span> <span class="toc-text">DNS: 根名字服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4-The-DNS-Name-Space"><span class="toc-number">1.6.3.</span> <span class="toc-text">DNS名字空间(The DNS Name Space)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%EF%BC%88Domain-Name%EF%BC%89"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">域名（Domain Name）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">域名的管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E4%B8%8E%E7%89%A9%E7%90%86%E7%BD%91%E7%BB%9C%E6%97%A0%E5%85%B3"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">域与物理网络无关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%BA%8C%EF%BC%9A-%E8%A7%A3%E6%9E%90%E9%97%AE%E9%A2%98-%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8-Name-Server"><span class="toc-number">1.7.</span> <span class="toc-text">问题二：  解析问题-名字服务器(Name Server)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AD%98%E5%9C%A8%E7%9A%84%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.1.</span> <span class="toc-text">一个名字服务器存在的相关问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E8%A7%A3%E5%86%B3%E4%B8%80%E4%B8%AA%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A-%E2%80%98%E5%88%92%E5%88%86%E2%80%99-%E5%8C%BA%E5%9F%9F-zone"><span class="toc-number">1.7.2.</span> <span class="toc-text">分布式解决一个名字服务器的问题： ‘划分’ 区域(zone)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E4%BA%92%E8%81%94%E7%BD%91%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4%E5%88%92%E5%88%86%E4%B8%BA%E8%8B%A5%E5%B9%B2%E5%8C%BA%E5%9F%9F%EF%BC%88Zone%EF%BC%89"><span class="toc-number">1.7.3.</span> <span class="toc-text">将互联网名字空间划分为若干区域（Zone）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TLD%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%9A"><span class="toc-number">1.7.4.</span> <span class="toc-text">TLD服务器：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%A4%A7%E8%87%B4%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">1.7.5.</span> <span class="toc-text">DNS大致工作过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Local-Name-Server%EF%BC%89"><span class="toc-number">1.7.6.</span> <span class="toc-text">本地名字服务器（Local Name Server）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8D%E5%AD%97%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88Name-Server%EF%BC%89"><span class="toc-number">1.7.6.1.</span> <span class="toc-text">名字服务器（Name Server）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%8D%8F%E8%AE%AE%E3%80%81-%E6%8A%A5%E6%96%87"><span class="toc-number">1.7.7.</span> <span class="toc-text">DNS协议、 报文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD-%EF%BC%9A-%E7%BC%93%E5%AD%98"><span class="toc-number">1.7.8.</span> <span class="toc-text">提高性能 ： 缓存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%B8%89%EF%BC%9A%E7%BB%B4%E6%8A%A4%E9%97%AE%E9%A2%98%EF%BC%9A%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA%E5%9F%9F"><span class="toc-number">1.8.</span> <span class="toc-text">问题三：维护问题：新增一个域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90%EF%BC%9A%E5%9C%A8com%E5%9F%9F%E4%B8%AD%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E2%80%9CNetwork-Utopia%E2%80%9D"><span class="toc-number">1.8.1.</span> <span class="toc-text">例子：在com域中建立一个“Network Utopia”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%BB%E5%87%BBDNS"><span class="toc-number">1.9.</span> <span class="toc-text">攻击DNS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#P2P%E5%BA%94%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">P2P应用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%AFP2P%E6%9E%B6%E6%9E%84"><span class="toc-number">2.1.</span> <span class="toc-text">纯P2P架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%EF%BC%88BitTorrent"><span class="toc-number">2.2.</span> <span class="toc-text">文件分发（BitTorrent)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-x2F-S-vs-P2P"><span class="toc-number">2.2.1.</span> <span class="toc-text">[C&#x2F;S vs P2P]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%E6%97%B6%E9%97%B4%EF%BC%9A-C-x2F-S%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">文件分发时间： C&#x2F;S模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%E6%97%B6%E9%97%B4-P2P%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.2.3.</span> <span class="toc-text">文件分发时间: P2P模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BE%E4%BE%8B%EF%BC%9A"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">举例：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P2P%E6%96%87%E4%BB%B6%E5%88%86%E5%8F%91%EF%BC%9A-BitTorrent"><span class="toc-number">2.3.</span> <span class="toc-text">P2P文件分发： BitTorrent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BitTorrent-%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%8F%91%E9%80%81%E6%96%87%E4%BB%B6%E5%9D%97"><span class="toc-number">2.4.</span> <span class="toc-text">BitTorrent: 请求，发送文件块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BitTorrent-tit-for-tat"><span class="toc-number">2.4.1.</span> <span class="toc-text">BitTorrent: tit-for-tat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#P2P%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-number">2.5.</span> <span class="toc-text">P2P文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P%EF%BC%9A%E9%9B%86%E4%B8%AD%E5%BC%8F%E7%9B%AE%E5%BD%95"><span class="toc-number">2.5.1.</span> <span class="toc-text">P2P：集中式目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#P2P%EF%BC%9A%E9%9B%86%E4%B8%AD%E5%BC%8F%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">2.5.2.</span> <span class="toc-text">P2P：集中式目录中存在的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%EF%BC%88%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B-%E6%9F%A5%E8%AF%A2%E6%B4%AA%E6%B3%9B%EF%BC%9AGnutella-%EF%BC%89"><span class="toc-number">2.5.3.</span> <span class="toc-text">完全分布式（一个实例 查询洪泛：Gnutella  ）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gnutella-%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.6.</span> <span class="toc-text">Gnutella:  协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnutella%EF%BC%9A%E5%AF%B9%E7%AD%89%E6%96%B9%E5%8A%A0%E5%85%A5"><span class="toc-number">2.6.1.</span> <span class="toc-text">Gnutella：对等方加入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Gnutella%EF%BC%9A-%E5%AF%B9%E7%AD%89%E6%96%B9%E7%A6%BB%E5%BC%80"><span class="toc-number">2.6.2.</span> <span class="toc-text">Gnutella： 对等方离开</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8A%E5%88%86%E6%95%A3%EF%BC%88-%E5%88%A9%E7%94%A8%E4%B8%8D%E5%8C%80%E7%A7%B0%E6%80%A7%EF%BC%9AKaZaA-%EF%BC%89"><span class="toc-number">2.6.3.</span> <span class="toc-text">半分散（ 利用不匀称性：KaZaA  ）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KaZaA%EF%BC%9A%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.6.4.</span> <span class="toc-text">KaZaA：查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Kazaa%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">2.6.4.1.</span> <span class="toc-text">Kazaa小技巧</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CDN"><span class="toc-number">3.</span> <span class="toc-text">CDN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%EF%BC%9A"><span class="toc-number">3.1.</span> <span class="toc-text">背景：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%AA%92%E4%BD%93%E8%A7%86%E9%A2%91"><span class="toc-number">3.2.</span> <span class="toc-text">多媒体视频</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%A7%86%E9%A2%91%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-number">3.2.1.</span> <span class="toc-text">网络视频特点：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%A7%86%E9%A2%91%E5%BE%97%E6%B5%81%E5%8C%96%E6%9C%8D%E5%8A%A1%EF%BC%88Streaming%EF%BC%89"><span class="toc-number">3.3.</span> <span class="toc-text">存储视频得流化服务（Streaming）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%AA%92%E4%BD%93%E6%B5%81%E5%8C%96%E6%9C%8D%E5%8A%A1-%EF%BC%9A-DASH"><span class="toc-number">3.3.1.</span> <span class="toc-text">多媒体流化服务 ： DASH</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%9C%E6%99%BA%E8%83%BD%E2%80%9D%E5%AE%A2%E6%88%B7%E7%AB%AF-%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%87%AA%E9%80%82%E5%BA%94%E5%86%B3%E5%AE%9A%EF%BC%88%E5%8A%A8%E6%80%81%E8%87%AA%E9%80%82%E5%BA%94%EF%BC%89"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">“智能”客户端: 客户端自适应决定（动态自适应）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Content-Distribution-Networks-%EF%BC%88CDN%EF%BC%89"><span class="toc-number">3.4.</span> <span class="toc-text">Content Distribution Networks （CDN）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8D%95%E4%B8%AA%EF%BC%8C-%E8%B6%85%E5%A4%A7%E7%9A%84%E8%B6%85%E7%BA%A7%E6%9C%8D%E5%8A%A1%E4%B8%AD%E5%BF%83-%E2%80%9Cmegaserver%E2%80%9D%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">3.4.1.</span> <span class="toc-text">使用单个， 超大的超级服务中心 “megaserver”出现的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87CDN%EF%BC%8C%E5%85%A8%E7%BD%91%E9%83%A8%E7%BD%B2%E7%BC%93%E5%AD%98%E8%8A%82%E7%82%B9%EF%BC%8C%E5%AD%98%E5%82%A8%E6%9C%8D%E5%8A%A1%E5%86%85%E5%AE%B9%EF%BC%8C%E5%B0%B1%E8%BF%91%E4%B8%BA%E7%94%A8%E6%88%B7%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1%EF%BC%8C%E6%8F%90%E9%AB%98%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C"><span class="toc-number">3.4.2.</span> <span class="toc-text">通过CDN，全网部署缓存节点，存储服务内容，就近为用户提供服务，提高用户体验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%EF%BC%9A"><span class="toc-number">3.4.3.</span> <span class="toc-text">场景：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E6%97%A9%E7%9A%84%E7%BD%91%E7%BB%9C%E8%A7%86%E9%A2%91%E7%82%B9%E6%92%AD%E6%9C%8D%E5%8A%A1%EF%BC%88%E7%BD%91%E9%A3%9E%EF%BC%89Netflix"><span class="toc-number">3.4.4.</span> <span class="toc-text">最早的网络视频点播服务（网飞）Netflix</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TCP%E5%A5%97%E6%8E%A5%E5%AD%97%EF%BC%88Socket%EF%BC%89%E7%BC%96%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">TCP套接字（Socket）编程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UDP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">UDP套接字编程</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/62c6c373.html" title="年度总结"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/second.jpg'" alt="年度总结"/></a><div class="content"><a class="title" href="/post/62c6c373.html" title="年度总结">年度总结</a><time datetime="2023-12-24T12:15:54.000Z" title="发表于 2023-12-24 20:15:54">2023-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/ee23eba1.html" title="文件上传是如何实现的？"><img src="https://w.wallhaven.cc/full/4x/wallhaven-4xvm7o.jpg" onerror="this.onerror=null;this.src='/img/second.jpg'" alt="文件上传是如何实现的？"/></a><div class="content"><a class="title" href="/post/ee23eba1.html" title="文件上传是如何实现的？">文件上传是如何实现的？</a><time datetime="2023-11-30T11:20:46.000Z" title="发表于 2023-11-30 19:20:46">2023-11-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/6defb0ec.html" title="前端购物车&amp;订单结算模块详解"><img src="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.moyublog.com%2Fhdwallpapers%2F1293.html&amp;psig=AOvVaw3c6ZALefYz1O2l67XhTguu&amp;ust=1672761033715000&amp;source=images&amp;cd=vfe&amp;ved=0CA0QjRxqFwoTCOjMxNSeqfwCFQAAAAAdAAAAABAD" onerror="this.onerror=null;this.src='/img/second.jpg'" alt="前端购物车&amp;订单结算模块详解"/></a><div class="content"><a class="title" href="/post/6defb0ec.html" title="前端购物车&amp;订单结算模块详解">前端购物车&amp;订单结算模块详解</a><time datetime="2023-11-17T08:45:55.000Z" title="发表于 2023-11-17 16:45:55">2023-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/260d62ae.html" title="基于Vue实现登录模块详解"><img src="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fm.duitang.com%2Fblogs%2Ftag%2F%3Fname%3D%25E7%25AE%2580%25E7%25BA%25A6%25E5%25A3%2581%25E7%25BA%25B8&amp;psig=AOvVaw2LdtjXeJYr5p33Qbr1LJKq&amp;ust=1672760873466000&amp;source=images&amp;cd=vfe&amp;ved=0CA0QjRxqFwoTCLjanYCeqfwCFQAAAAAdAAAAABAD" onerror="this.onerror=null;this.src='/img/second.jpg'" alt="基于Vue实现登录模块详解"/></a><div class="content"><a class="title" href="/post/260d62ae.html" title="基于Vue实现登录模块详解">基于Vue实现登录模块详解</a><time datetime="2023-11-08T15:41:08.000Z" title="发表于 2023-11-08 23:41:08">2023-11-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/485c1f6a.html" title="回溯总结"><img src="https://th.bing.com/th/id/OIP.nZkOrLOn_bp0mLFxlK-x2wHaEK?pid=ImgDet&amp;rs=1" onerror="this.onerror=null;this.src='/img/second.jpg'" alt="回溯总结"/></a><div class="content"><a class="title" href="/post/485c1f6a.html" title="回溯总结">回溯总结</a><time datetime="2023-11-01T13:10:54.000Z" title="发表于 2023-11-01 21:10:54">2023-11-01</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://www.google.com/imgres?imgurl=https%3A%2F%2Ftmpl.downzz.com%2Fsucai%2Fcontent%2F0tf4t1r53js.jpg&amp;imgrefurl=https%3A%2F%2Fwww.downzz.com%2Fjianyuebizhi%2F36732.html&amp;tbnid=O22DjUrs0X8icM&amp;vet=12ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ..i&amp;docid=Xc2fZTMSl7dnDM&amp;w=1202&amp;h=676&amp;q=%E7%AE%80%E7%BA%A6%20%E7%94%B5%E8%84%91%20%E5%A3%81%E7%BA%B8%204k&amp;ved=2ahUKEwjel_jKnqn8AhUTxpQKHavjA08QMygAegUIARCrAQ')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Rayce.</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a><a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a><a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> <a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>